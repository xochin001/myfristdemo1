{"version":3,"sources":["webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?f21c","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?ad99","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?c913","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?75c4","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?6616","webpack:///F:/陈星的微信小程序/uni_瑞宝星/pages/article/article.vue?e88b"],"names":["created","userInfo","nickname","nickName","avator","avatarUrl","wx","setStorageSync","onShow","id","$root","$mp","query","getaritcle","get_pinglun","get_dianzan","data","articles","title","articleid","context","dianzan","times","pingluns","allnumber","dianzhanFlag","dianzhan","dianzans","dianzanuser","click","components","uParse","methods","article_id","res","setNavigationBarTitle","to_pinglun","navigateTo","url","showToast","icon","duration","mask","setTimeout","pinglun_id","i","length","time","Date","create_time","post_dianzan","flag","getStorageSync","indexOf","username","add_dianzan","liulanliang","computed","onUnload"],"mappings":"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","file":"pages/article/article.js","sourcesContent":["import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=232af5b4&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\工具\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('232af5b4', component.options)\n    } else {\n      api.reload('232af5b4', component.options)\n    }\n    module.hot.accept(\"./article.vue?vue&type=template&id=232af5b4&\", function () {\n      api.rerender('232af5b4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"陈星的微信小程序/uni_瑞宝星/pages/article/article.vue\"\nexport default component.exports","export * from \"-!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./article.vue?vue&type=template&id=232af5b4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./article.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { formatTime} from '../../common/utils/index'\r\nimport { login ,get ,post } from '../../api/homepage'\r\nimport uParse from '@/components/u-parse/u-parse.vue'\r\n\r\nexport default {\r\n  created(){\r\n    if (login()) {\r\n      this.userInfo = login()\r\n      this.nickname = this.userInfo.nickName\r\n      this.avator = this.userInfo.avatarUrl\r\n      //在最开始的时候给一个初始值，判断flag\r\n      wx.setStorageSync('dianzhanFlag',false)\r\n      wx.setStorageSync('dianzhan',false)\r\n    }\r\n\r\n  },\r\n\r\n    onShow() {\r\n    this.id = this.$root.$mp.query.id\r\n    this.getaritcle()\r\n    this.get_pinglun()  \r\n    //this.add_dianzan() \r\n    this.get_dianzan()\r\n  \r\n  },\r\n\r\n\r\n  data() {\r\n    return {\r\n      avator:'',\r\n      articles:[],\r\n      title:'',\r\n      articleid: 1,\r\n      context :'',\r\n      dianzan:0 ,\r\n      times:[],\r\n      pingluns:{},\r\n      allnumber:0,\r\n      dianzhanFlag:false,\r\n      dianzhan:false,\r\n      dianzans:{},\r\n      dianzanuser:[],\r\n      click:0,\r\n      nickname: ''\r\n\r\n\r\n    }\r\n  },\r\n   components: {\r\n\tuParse\r\n  },\r\n  methods: {\r\n\r\n\r\n    async getaritcle () {\r\n       \r\n      const res = await get('/api/chen/article_detail' , {\r\n        article_id: this.id\r\n      })\r\n      this.articles = res.data\r\n      this.articleid = this.articles[0].article_id\r\n      this.context= this.articles[0].context\r\n      this.title= this.articles[0].title\r\n      this.dianzan = this.articles[0].dianzan\r\n      this.click = this.articles[0].click\r\n       wx.setNavigationBarTitle({\r\n           title: this.title,\r\n         })\r\n    },\r\n    to_pinglun(id){\r\n      if(login()){\r\n      wx.navigateTo({\r\n            url:\"../comment/main?id=\" +id \r\n          })\r\n    }else{\r\n          wx.showToast({\r\n              title: \"请先登陆\",\r\n              icon:\"none\",\r\n              duration: 1500,\r\n              mask: true,\r\n            })\r\n           setTimeout(function(){wx.navigateTo({\r\n            url:\"/pages/login/main\"\r\n          })\r\n          },1500)\r\n         \r\n\r\n      }\r\n    },\r\n    async get_pinglun() {\r\n       \r\n      \r\n       const res = await get('/api/chen/pinglun_detail' , {\r\n        pinglun_id : this.id\r\n       })\r\n        this.pingluns = res.data\r\n       \r\n            for( let i = 0 ; i < this.pingluns.length ; i ++) {\r\n              var time = formatTime(new Date(this.pingluns[i].create_time))\r\n              this.times[i] = time\r\n            }\r\n    },\r\n    async post_dianzan( ){\r\n\r\n      if(login()){\r\n\r\n        const flag = wx.getStorageSync('dianzhanFlag')\r\n        if(flag){\r\n          if(this.dianzanuser.length===0 ||this.dianzanuser.indexOf(this.userInfo.nickName) < 0){\r\n         const res = await post('/api/chen/dianzan' , {\r\n         article_id : this.articleid,\r\n         username : this.userInfo.nickName,\r\n         avator: this.userInfo.avatarUrl\r\n        })\r\n       }\r\n      }\r\n     }else return\r\n\r\n    },\r\n    add_dianzan() {\r\n       if(login()){\r\n        this.dianzhanFlag = !this.dianzhanFlag\r\n      if(this.dianzhanFlag){\r\n       wx.setStorageSync('dianzhanFlag',true)\r\n        // if(this.dianzanuser.indexOf(this.userInfo.nickName) < 0){\r\n        //   wx.setStorageSync('dianzhan',true)\r\n        // }\r\n      }else{\r\n        wx.setStorageSync('dianzhanFlag',false);\r\n      }\r\n    }else{\r\n          wx.showToast({\r\n              title: \"请先登陆\",\r\n              icon:\"none\",\r\n              duration: 1500,\r\n              mask: true,\r\n            })\r\n           setTimeout(function(){wx.navigateTo({\r\n            url:\"/pages/login/main\"\r\n          })\r\n          },1500)\r\n      }\r\n    },\r\n    async get_dianzan( ){\r\n        const res = await get('/api/chen/dianzan_detail', {\r\n          article_id : this.id\r\n        })\r\n        this.dianzans= res.data\r\n             for( let i = 0 ; i < this.dianzans.length ; i ++) {\r\n              this.dianzanuser[i] = this.dianzans[i].username\r\n            }\r\n\r\n    },\r\n    async liulanliang(){\r\n      const res = await post('/api/chen/article_liulanliang',{\r\n        id: this.id,\r\n        click: this.click +1\r\n      })\r\n\r\n\r\n        \r\n      \r\n    }\r\n   \r\n  },\r\n  computed: {\r\n\r\n  },\r\n  onUnload() {\r\n    this.post_dianzan()\r\n    this.liulanliang()\r\n  }\r\n\r\n};\r\n\r\n","import mod from \"-!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./article.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../工具/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./article.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}